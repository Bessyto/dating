<!--
Bessy Torres-Miller
IT-328
admin.html
This page shows a table with all the members

-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>My Dating Website</title>

    <!-- bootstrap css -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
    <script src="http://code.jquery.com/jquery.js"></script>

    <!--Link to local css style-->
    <link rel= "stylesheet" href="styles/styles.css">
    <link rel= "stylesheet" href="styles/admin.css">

</head>

<include href="/pages/header.html" />


<body>
<table class="table table-hover table-sm" id="table"><br>
    <h3 class="text-center text-danger">Membership</h3>
    <caption class="text-sm"> Note: Click a member to see more information</caption>
    <thead class="table-danger">
        <tr>
            <th>ID</th> <th>Name</th> <th>Age</th> <th>Phone</th> <th>Email</th> <th>State</th>
            <th>Gender</th> <th>Seeking</th> <th>Premium</th> <th>Interests</th>
        </tr>
    </thead>
    <tbody>

        <repeat group = "{{@members}}" value="{{@member}}">
            <tr class='clickable-row' data-href="{{ @BASE }}/memberInfo/{{ @member['member_id']}}">
                    <td>{{@member['member_id']}}</td>
                    <td>{{@member['fname']}} {{@member['lname']}}</td>
                    <td>{{@member['age']}}</td>
                    <td>{{@member['phone']}}</td>
                    <td>{{@member['email']}}</td>
                    <td>{{@member['state']}}</td>
                    <td>{{@member['gender']}}</td>
                    <td>{{@member['seeking']}}</td>

                    <check if="{{@member['premium'] == 1}}">
                        <true>
                            <td><input type="checkbox" name="premium" value="" checked="checked" disabled="disabled"></td>
                        </true>
                        <false>
                            <td><input type="checkbox" name="noPremium" value="" disabled="disabled"></td>
                        </false>
                    </check>
                    <td>{{@member['interests']}}</td>
            </tr>
        </repeat>

    </tbody>
</table>

<!--JQuery function to add the anchor tag to a whole row in the table-->
<script>
    jQuery(document).ready(function($) {
        $(".clickable-row").click(function() {
            window.location = $(this).data("href");
        });
    });
</script>


</body>
</html>